{% extends 'layout.html'%}
{% block page_title %}Choose your Bacon{% endblock %}

{% block main_content %}
<div class='col-sm-12'>
    <form id='char_select' class='form-vertical' action='{{ url_for("special_chars_choose" ) }}' method='POST'>
      <input type='hidden' name='lang' id='lang' value=''/> 
      <input type='hidden' name='char' id='char' value=''/> 

          {% for key in special_chars|sort() %}

          <h4>{{ special_chars[key].name }} <small>[{{ special_chars[key].label }} - {{ special_chars[key].english_name }}]</small></h4>
            {% for char in special_chars[key].characters %}
            <span class='special-character btn' 
              data-char='{{ char.char }}' 
              data-toggle="tooltip" data-placement="top"
              id='{{ key }}-{{ char.win_alt_code }}'
              title='windows code: {{ char.win_alt_code }}'
              >{{ char.char}}</span>
            {% endfor %}
          {% endfor %}
        </div>
    </form>      
</div>

{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip()
  $('.special-character.btn').click(function(evt){
    $('#lang').val($(this).data('lang'));
    $('#char').val($(this).data('char'));
    
    $('#char_select').submit();
    /*
    $.post('{{ url_for("special_chars_choose") }}', { char:$(this).data('char')})
      .then( function(_r){
        console.log(_r); 
      });
    */
  });
});
</script>
{% endblock %}

{% block extra_css %}
<style >
  .special-character {
    border: 1px solid gray;
    width: 35px;
    padding: 4px;
    font-size: 1.6em;
  }
  .special-character:hover {
    background-color: #ADD8E6;
  }
</style>
{% endblock %}
